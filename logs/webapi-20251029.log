2025-10-29 21:03:39.767 +05:30  INF  User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-29 21:03:41.455 +05:30  INF  Now listening on: http://localhost:5033
2025-10-29 21:03:41.676 +05:30  INF  Application started. Press Ctrl+C to shut down.
2025-10-29 21:03:41.676 +05:30  INF  Hosting environment: Development
2025-10-29 21:03:41.677 +05:30  INF  Content root path: C:\Users\User\OneDrive\Desktop\BulidFlow Project\BuildflowBackend\Buildflow.Api
2025-10-29 21:03:50.775 +05:30  INF  Request starting HTTP/1.1 GET http://localhost:5033/swagger - null null
2025-10-29 21:03:52.268 +05:30  WRN  Failed to determine the https port for redirect.
2025-10-29 21:03:52.502 +05:30  INF  Request finished HTTP/1.1 GET http://localhost:5033/swagger - 301 0 null 1758.0181ms
2025-10-29 21:03:52.549 +05:30  INF  Request starting HTTP/1.1 GET http://localhost:5033/swagger/index.html - null null
2025-10-29 21:03:52.854 +05:30  INF  Request finished HTTP/1.1 GET http://localhost:5033/swagger/index.html - 200 null text/html;charset=utf-8 305.3607ms
2025-10-29 21:03:53.174 +05:30  INF  Request starting HTTP/1.1 GET http://localhost:5033/swagger/swagger-ui.css - null null
2025-10-29 21:03:53.189 +05:30  INF  Request starting HTTP/1.1 GET http://localhost:5033/swagger/swagger-ui-standalone-preset.js - null null
2025-10-29 21:03:53.199 +05:30  INF  Request starting HTTP/1.1 GET http://localhost:5033/swagger/swagger-ui-bundle.js - null null
2025-10-29 21:03:53.201 +05:30  INF  Request starting HTTP/1.1 GET http://localhost:5033/swagger/index.css - null null
2025-10-29 21:03:53.227 +05:30  INF  Request starting HTTP/1.1 GET http://localhost:5033/swagger/index.js - null null
2025-10-29 21:03:53.247 +05:30  INF  Request finished HTTP/1.1 GET http://localhost:5033/swagger/index.js - 200 null application/javascript;charset=utf-8 23.9203ms
2025-10-29 21:03:53.257 +05:30  INF  Request starting HTTP/1.1 GET http://localhost:5033/_framework/aspnetcore-browser-refresh.js - null null
2025-10-29 21:03:53.266 +05:30  INF  Request finished HTTP/1.1 GET http://localhost:5033/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 9.4752ms
2025-10-29 21:03:53.291 +05:30  INF  Sending file. Request path: '/index.css'. Physical path: 'N/A'
2025-10-29 21:03:53.292 +05:30  INF  Request finished HTTP/1.1 GET http://localhost:5033/swagger/index.css - 200 202 text/css 90.2759ms
2025-10-29 21:03:53.300 +05:30  INF  Request starting HTTP/1.1 GET http://localhost:5033/_vs/browserLink - null null
2025-10-29 21:03:53.311 +05:30  INF  Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-10-29 21:03:53.324 +05:30  INF  Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-10-29 21:03:53.369 +05:30  INF  Request finished HTTP/1.1 GET http://localhost:5033/swagger/swagger-ui-standalone-preset.js - 200 229223 text/javascript 181.367ms
2025-10-29 21:03:53.369 +05:30  INF  Request finished HTTP/1.1 GET http://localhost:5033/swagger/swagger-ui.css - 200 154949 text/css 195.1677ms
2025-10-29 21:03:53.433 +05:30  INF  Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-10-29 21:03:53.433 +05:30  INF  Request finished HTTP/1.1 GET http://localhost:5033/swagger/swagger-ui-bundle.js - 200 1466908 text/javascript 234.354ms
2025-10-29 21:03:53.867 +05:30  INF  Request finished HTTP/1.1 GET http://localhost:5033/_vs/browserLink - 200 null text/javascript; charset=UTF-8 566.9778ms
2025-10-29 21:03:54.023 +05:30  INF  Request starting HTTP/1.1 GET http://localhost:5033/swagger/v1/swagger.json - null null
2025-10-29 21:03:54.150 +05:30  INF  Request starting HTTP/1.1 GET http://localhost:5033/swagger/favicon-32x32.png - null null
2025-10-29 21:03:54.150 +05:30  INF  Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-10-29 21:03:54.151 +05:30  INF  Request finished HTTP/1.1 GET http://localhost:5033/swagger/favicon-32x32.png - 200 628 image/png 1.0512ms
2025-10-29 21:03:54.198 +05:30  INF  Request finished HTTP/1.1 GET http://localhost:5033/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 174.6916ms
2025-10-29 21:04:15.565 +05:30  INF  Request starting HTTP/1.1 GET http://localhost:5033/api/Department/get-department - null null
2025-10-29 21:04:16.323 +05:30  INF  Executing endpoint 'Buildflow.Api.Controllers.Master.DepartmentController.GetDepartments (Buildflow.Api)'
2025-10-29 21:04:16.575 +05:30  INF  Route matched with {action = "GetDepartments", controller = "Department"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartments() on controller Buildflow.Api.Controllers.Master.DepartmentController (Buildflow.Api).
2025-10-29 21:04:16.647 +05:30  INF  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-10-29 21:04:16.648 +05:30  INF  Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2025-10-29 21:04:16.663 +05:30  INF  Executing ChallengeResult with authentication schemes ([]).
2025-10-29 21:04:16.690 +05:30  INF  AuthenticationScheme: Bearer was challenged.
2025-10-29 21:04:16.697 +05:30  INF  Executed action Buildflow.Api.Controllers.Master.DepartmentController.GetDepartments (Buildflow.Api) in 97.1229ms
2025-10-29 21:04:16.697 +05:30  INF  Executed endpoint 'Buildflow.Api.Controllers.Master.DepartmentController.GetDepartments (Buildflow.Api)'
2025-10-29 21:04:16.698 +05:30  INF  Request finished HTTP/1.1 GET http://localhost:5033/api/Department/get-department - 401 0 null 1138.4319ms
2025-10-29 21:04:55.904 +05:30  INF  Request starting HTTP/1.1 POST http://localhost:5033/api/Login/login - application/json 75
2025-10-29 21:04:55.971 +05:30  INF  CORS policy execution successful.
2025-10-29 21:04:56.013 +05:30  INF  Executing endpoint 'Buildflow.Api.Controllers.Master.LoginController.Login (Buildflow.Api)'
2025-10-29 21:04:56.093 +05:30  INF  Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Buildflow.Utility.DTO.LoginRequest) on controller Buildflow.Api.Controllers.Master.LoginController (Buildflow.Api).
2025-10-29 21:05:05.320 +05:30  INF  Executed DbCommand (303ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v.vendor_id, v.alternative_mobile, v.city, v.country, v.created_at, v.created_by, v.credit_limit, v.delivery_terms, v.email, v.is_active, v.mobile, v.organization_name, v.password, v.payment_terms, v.postal_code, v.preferred_payment_method, v.state, v.street, v.tax_id, v.updated_at, v.updated_by, v.vendor_code, v.vendor_name, v.website
FROM vendor.vendor AS v
WHERE v.email = @__email_0
LIMIT 1
2025-10-29 21:05:05.506 +05:30  INF  Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2025-10-29 21:05:05.577 +05:30  INF  Executed action Buildflow.Api.Controllers.Master.LoginController.Login (Buildflow.Api) in 9482.8055ms
2025-10-29 21:05:05.578 +05:30  INF  Executed endpoint 'Buildflow.Api.Controllers.Master.LoginController.Login (Buildflow.Api)'
2025-10-29 21:05:05.619 +05:30  INF  Request finished HTTP/1.1 POST http://localhost:5033/api/Login/login - 401 null text/plain; charset=utf-8 9728.1897ms
2025-10-29 21:23:45.694 +05:30  INF  Request starting HTTP/1.1 POST http://localhost:5033/api/Login/refresh-token - application/json 30
2025-10-29 21:23:45.718 +05:30  INF  CORS policy execution successful.
2025-10-29 21:23:45.729 +05:30  INF  Executing endpoint 'Buildflow.Api.Controllers.Master.LoginController.RefreshToken (Buildflow.Api)'
2025-10-29 21:23:45.753 +05:30  INF  Route matched with {action = "RefreshToken", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(Buildflow.Api.Model.RefreshRequest) on controller Buildflow.Api.Controllers.Master.LoginController (Buildflow.Api).
2025-10-29 21:24:05.647 +05:30  ERR  Failed executing DbCommand (19,618ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r.id, r.email, r.expirydate, r.isrevoked, r.token
FROM employee.refreshtoken AS r
WHERE r.token = @__refreshToken_0 AND r.isrevoked = FALSE
LIMIT 1
2025-10-29 21:24:05.675 +05:30  ERR  An exception occurred while iterating over the results of a query for context type 'Buildflow.Infrastructure.DatabaseContext.BuildflowAppContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host..
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.CreateException(SocketError error, Boolean forAsyncThrow)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ReceiveAsync(Socket socket, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.ReceiveAsync(Memory`1 buffer, SocketFlags socketFlags, Boolean fromNetworkStream, CancellationToken cancellationToken)
   at System.Net.Sockets.NetworkStream.ReadAsync(Memory`1 buffer, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|54_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.ExecutionContextCallback(Object s)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.MoveNext()
   at System.Net.Sockets.SocketAsyncEventArgs.<>c.<.cctor>b__173_0(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)
   at System.Threading.PortableThreadPool.IOCompletionPoller.Callback.Invoke(Event e)
   at System.Threading.ThreadPoolTypedWorkItemQueue`2.System.Threading.IThreadPoolWorkItem.Execute()
   at System.Threading.ThreadPoolWorkQueue.Dispatch()
   at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
--- End of stack trace from previous location ---

   --- End of inner exception stack trace ---
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|54_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|54_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host..
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.CreateException(SocketError error, Boolean forAsyncThrow)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ReceiveAsync(Socket socket, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.ReceiveAsync(Memory`1 buffer, SocketFlags socketFlags, Boolean fromNetworkStream, CancellationToken cancellationToken)
   at System.Net.Sockets.NetworkStream.ReadAsync(Memory`1 buffer, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|54_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.ExecutionContextCallback(Object s)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.MoveNext()
   at System.Net.Sockets.SocketAsyncEventArgs.<>c.<.cctor>b__173_0(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)
   at System.Threading.PortableThreadPool.IOCompletionPoller.Callback.Invoke(Event e)
   at System.Threading.ThreadPoolTypedWorkItemQueue`2.System.Threading.IThreadPoolWorkItem.Execute()
   at System.Threading.ThreadPoolWorkQueue.Dispatch()
   at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
--- End of stack trace from previous location ---

   --- End of inner exception stack trace ---
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|54_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|54_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()

2025-10-29 21:24:06.117 +05:30  INF  Executed action Buildflow.Api.Controllers.Master.LoginController.RefreshToken (Buildflow.Api) in 20363.1487ms
2025-10-29 21:24:06.123 +05:30  INF  Executed endpoint 'Buildflow.Api.Controllers.Master.LoginController.RefreshToken (Buildflow.Api)'
2025-10-29 21:24:06.382 +05:30  ERR  An error occurred: An exception has been raised that is likely due to a transient failure.
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Buildflow.Library.Repository.RegisterRepository.GetRefreshToken(String refreshToken) in C:\Users\User\OneDrive\Desktop\BulidFlow Project\BuildflowBackend\Buildflow.Library\Repository\RegisterRepository.cs:line 409
   at Buildflow.Service.Service.Master.RegisterService.GetRefreshToken(String refreshToken) in C:\Users\User\OneDrive\Desktop\BulidFlow Project\BuildflowBackend\Buildflow.Service\Service\Master\RegisteredService.cs:line 40
   at Buildflow.Api.Controllers.Master.LoginController.RefreshToken(RefreshRequest request) in C:\Users\User\OneDrive\Desktop\BulidFlow Project\BuildflowBackend\Buildflow.Api\Controllers\Master\LoginController.cs:line 137
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Buildflow.Api.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Users\User\OneDrive\Desktop\BulidFlow Project\BuildflowBackend\Buildflow.Api\Middlewares\ExceptionMiddleware.cs:line 60
2025-10-29 21:24:06.387 +05:30  ERR  Inner Exception: Exception while reading from stream
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|54_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
2025-10-29 21:24:06.391 +05:30  INF  Request finished HTTP/1.1 POST http://localhost:5033/api/Login/refresh-token - 500 null null 20700.8545ms
2025-10-29 21:25:44.487 +05:30  INF  Request starting HTTP/1.1 POST http://localhost:5033/api/Login/login - application/json 81
2025-10-29 21:25:44.557 +05:30  INF  CORS policy execution successful.
2025-10-29 21:25:44.602 +05:30  INF  Executing endpoint 'Buildflow.Api.Controllers.Master.LoginController.Login (Buildflow.Api)'
2025-10-29 21:25:44.641 +05:30  INF  Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Buildflow.Utility.DTO.LoginRequest) on controller Buildflow.Api.Controllers.Master.LoginController (Buildflow.Api).
2025-10-29 21:25:49.112 +05:30  INF  Executed DbCommand (56ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v.vendor_id, v.alternative_mobile, v.city, v.country, v.created_at, v.created_by, v.credit_limit, v.delivery_terms, v.email, v.is_active, v.mobile, v.organization_name, v.password, v.payment_terms, v.postal_code, v.preferred_payment_method, v.state, v.street, v.tax_id, v.updated_at, v.updated_by, v.vendor_code, v.vendor_name, v.website
FROM vendor.vendor AS v
WHERE v.email = @__email_0
LIMIT 1
2025-10-29 21:25:49.135 +05:30  INF  Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2025-10-29 21:25:49.141 +05:30  INF  Executed action Buildflow.Api.Controllers.Master.LoginController.Login (Buildflow.Api) in 4498.4691ms
2025-10-29 21:25:49.142 +05:30  INF  Executed endpoint 'Buildflow.Api.Controllers.Master.LoginController.Login (Buildflow.Api)'
2025-10-29 21:25:49.155 +05:30  INF  Request finished HTTP/1.1 POST http://localhost:5033/api/Login/login - 401 null text/plain; charset=utf-8 4690.0606ms
2025-10-29 21:26:18.919 +05:30  INF  Request starting HTTP/1.1 POST http://localhost:5033/api/Login/login - application/json 92
2025-10-29 21:26:18.969 +05:30  INF  CORS policy execution successful.
2025-10-29 21:26:18.982 +05:30  INF  Executing endpoint 'Buildflow.Api.Controllers.Master.LoginController.Login (Buildflow.Api)'
2025-10-29 21:26:18.997 +05:30  INF  Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Buildflow.Utility.DTO.LoginRequest) on controller Buildflow.Api.Controllers.Master.LoginController (Buildflow.Api).
2025-10-29 21:26:19.154 +05:30  INF  Executed DbCommand (31ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v.vendor_id, v.alternative_mobile, v.city, v.country, v.created_at, v.created_by, v.credit_limit, v.delivery_terms, v.email, v.is_active, v.mobile, v.organization_name, v.password, v.payment_terms, v.postal_code, v.preferred_payment_method, v.state, v.street, v.tax_id, v.updated_at, v.updated_by, v.vendor_code, v.vendor_name, v.website
FROM vendor.vendor AS v
WHERE v.email = @__email_0
LIMIT 1
2025-10-29 21:26:19.156 +05:30  INF  Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2025-10-29 21:26:19.158 +05:30  INF  Executed action Buildflow.Api.Controllers.Master.LoginController.Login (Buildflow.Api) in 159.968ms
2025-10-29 21:26:19.158 +05:30  INF  Executed endpoint 'Buildflow.Api.Controllers.Master.LoginController.Login (Buildflow.Api)'
2025-10-29 21:26:19.160 +05:30  INF  Request finished HTTP/1.1 POST http://localhost:5033/api/Login/login - 401 null text/plain; charset=utf-8 244.132ms
2025-10-29 21:28:03.974 +05:30  INF  Request starting HTTP/1.1 POST http://localhost:5033/api/Login/login - application/json 71
2025-10-29 21:28:04.079 +05:30  INF  CORS policy execution successful.
2025-10-29 21:28:04.164 +05:30  INF  Executing endpoint 'Buildflow.Api.Controllers.Master.LoginController.Login (Buildflow.Api)'
2025-10-29 21:28:04.263 +05:30  INF  Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Buildflow.Utility.DTO.LoginRequest) on controller Buildflow.Api.Controllers.Master.LoginController (Buildflow.Api).
2025-10-29 21:28:04.621 +05:30  INF  Executed DbCommand (30ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v.vendor_id, v.alternative_mobile, v.city, v.country, v.created_at, v.created_by, v.credit_limit, v.delivery_terms, v.email, v.is_active, v.mobile, v.organization_name, v.password, v.payment_terms, v.postal_code, v.preferred_payment_method, v.state, v.street, v.tax_id, v.updated_at, v.updated_by, v.vendor_code, v.vendor_name, v.website
FROM vendor.vendor AS v
WHERE v.email = @__email_0
LIMIT 1
2025-10-29 21:28:04.624 +05:30  INF  Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2025-10-29 21:28:04.630 +05:30  INF  Executed action Buildflow.Api.Controllers.Master.LoginController.Login (Buildflow.Api) in 365.1476ms
2025-10-29 21:28:04.630 +05:30  INF  Executed endpoint 'Buildflow.Api.Controllers.Master.LoginController.Login (Buildflow.Api)'
2025-10-29 21:28:04.634 +05:30  INF  Request finished HTTP/1.1 POST http://localhost:5033/api/Login/login - 401 null text/plain; charset=utf-8 685.6246ms
2025-10-29 21:28:34.275 +05:30  INF  Request starting HTTP/1.1 POST http://localhost:5033/api/Login/login - application/json 79
2025-10-29 21:28:34.276 +05:30  INF  CORS policy execution successful.
2025-10-29 21:28:34.278 +05:30  INF  Executing endpoint 'Buildflow.Api.Controllers.Master.LoginController.Login (Buildflow.Api)'
2025-10-29 21:28:34.278 +05:30  INF  Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Buildflow.Utility.DTO.LoginRequest) on controller Buildflow.Api.Controllers.Master.LoginController (Buildflow.Api).
2025-10-29 21:28:34.327 +05:30  INF  Executed DbCommand (17ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v.vendor_id, v.alternative_mobile, v.city, v.country, v.created_at, v.created_by, v.credit_limit, v.delivery_terms, v.email, v.is_active, v.mobile, v.organization_name, v.password, v.payment_terms, v.postal_code, v.preferred_payment_method, v.state, v.street, v.tax_id, v.updated_at, v.updated_by, v.vendor_code, v.vendor_name, v.website
FROM vendor.vendor AS v
WHERE v.email = @__email_0
LIMIT 1
2025-10-29 21:28:34.327 +05:30  INF  Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2025-10-29 21:28:34.329 +05:30  INF  Executed action Buildflow.Api.Controllers.Master.LoginController.Login (Buildflow.Api) in 50.501ms
2025-10-29 21:28:34.329 +05:30  INF  Executed endpoint 'Buildflow.Api.Controllers.Master.LoginController.Login (Buildflow.Api)'
2025-10-29 21:28:34.329 +05:30  INF  Request finished HTTP/1.1 POST http://localhost:5033/api/Login/login - 401 null text/plain; charset=utf-8 54.3479ms
2025-10-29 21:28:47.979 +05:30  INF  Request starting HTTP/1.1 POST http://localhost:5033/api/Login/login - application/json 78
2025-10-29 21:28:47.980 +05:30  INF  CORS policy execution successful.
2025-10-29 21:28:47.980 +05:30  INF  Executing endpoint 'Buildflow.Api.Controllers.Master.LoginController.Login (Buildflow.Api)'
2025-10-29 21:28:47.981 +05:30  INF  Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Buildflow.Utility.DTO.LoginRequest) on controller Buildflow.Api.Controllers.Master.LoginController (Buildflow.Api).
2025-10-29 21:28:47.995 +05:30  INF  Executed DbCommand (11ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v.vendor_id, v.alternative_mobile, v.city, v.country, v.created_at, v.created_by, v.credit_limit, v.delivery_terms, v.email, v.is_active, v.mobile, v.organization_name, v.password, v.payment_terms, v.postal_code, v.preferred_payment_method, v.state, v.street, v.tax_id, v.updated_at, v.updated_by, v.vendor_code, v.vendor_name, v.website
FROM vendor.vendor AS v
WHERE v.email = @__email_0
LIMIT 1
2025-10-29 21:28:47.997 +05:30  INF  Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2025-10-29 21:28:47.998 +05:30  INF  Executed action Buildflow.Api.Controllers.Master.LoginController.Login (Buildflow.Api) in 16.5091ms
2025-10-29 21:28:47.998 +05:30  INF  Executed endpoint 'Buildflow.Api.Controllers.Master.LoginController.Login (Buildflow.Api)'
2025-10-29 21:28:47.998 +05:30  INF  Request finished HTTP/1.1 POST http://localhost:5033/api/Login/login - 401 null text/plain; charset=utf-8 18.8806ms
2025-10-29 21:31:28.303 +05:30  INF  Request starting HTTP/1.1 POST http://localhost:5033/api/Employee/create-employee - application/json 275
2025-10-29 21:31:28.350 +05:30  INF  CORS policy execution successful.
2025-10-29 21:31:28.368 +05:30  INF  Executing endpoint 'Buildflow.Api.Controllers.Employee.EmployeeController.CreateEmployee (Buildflow.Api)'
2025-10-29 21:31:28.494 +05:30  INF  Route matched with {action = "CreateEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Buildflow.Utility.DTO.EmployeeDTO]]] CreateEmployee(Buildflow.Utility.DTO.EmployeeDTO) on controller Buildflow.Api.Controllers.Employee.EmployeeController (Buildflow.Api).
2025-10-29 21:31:28.505 +05:30  INF  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-10-29 21:31:28.507 +05:30  INF  Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2025-10-29 21:31:28.510 +05:30  INF  Executing ChallengeResult with authentication schemes ([]).
2025-10-29 21:31:28.536 +05:30  INF  AuthenticationScheme: Bearer was challenged.
2025-10-29 21:31:28.537 +05:30  INF  Executed action Buildflow.Api.Controllers.Employee.EmployeeController.CreateEmployee (Buildflow.Api) in 42.7735ms
2025-10-29 21:31:28.537 +05:30  INF  Executed endpoint 'Buildflow.Api.Controllers.Employee.EmployeeController.CreateEmployee (Buildflow.Api)'
2025-10-29 21:31:28.543 +05:30  INF  Request finished HTTP/1.1 POST http://localhost:5033/api/Employee/create-employee - 401 0 null 256.8112ms
2025-10-29 21:33:42.975 +05:30  INF  Request starting HTTP/1.1 GET http://localhost:5033/api/Role/getRoles - null null
2025-10-29 21:33:43.086 +05:30  INF  Executing endpoint 'Buildflow.Api.Controllers.Master.RoleController.GetRoles (Buildflow.Api)'
2025-10-29 21:33:43.187 +05:30  INF  Route matched with {action = "GetRoles", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoles() on controller Buildflow.Api.Controllers.Master.RoleController (Buildflow.Api).
2025-10-29 21:33:43.191 +05:30  INF  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-10-29 21:33:43.191 +05:30  INF  Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2025-10-29 21:33:43.193 +05:30  INF  Executing ChallengeResult with authentication schemes ([]).
2025-10-29 21:33:43.196 +05:30  INF  AuthenticationScheme: Bearer was challenged.
2025-10-29 21:33:43.197 +05:30  INF  Executed action Buildflow.Api.Controllers.Master.RoleController.GetRoles (Buildflow.Api) in 10.5337ms
2025-10-29 21:33:43.200 +05:30  INF  Executed endpoint 'Buildflow.Api.Controllers.Master.RoleController.GetRoles (Buildflow.Api)'
2025-10-29 21:33:43.204 +05:30  INF  Request finished HTTP/1.1 GET http://localhost:5033/api/Role/getRoles - 401 0 null 240.5828ms
2025-10-29 21:35:25.514 +05:30  INF  Request starting HTTP/1.1 POST http://localhost:5033/api/Login/login - application/json 78
2025-10-29 21:35:25.526 +05:30  INF  CORS policy execution successful.
2025-10-29 21:35:25.529 +05:30  INF  Executing endpoint 'Buildflow.Api.Controllers.Master.LoginController.Login (Buildflow.Api)'
2025-10-29 21:35:25.531 +05:30  INF  Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Buildflow.Utility.DTO.LoginRequest) on controller Buildflow.Api.Controllers.Master.LoginController (Buildflow.Api).
2025-10-29 21:35:26.037 +05:30  INF  Executed DbCommand (24ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v.vendor_id, v.alternative_mobile, v.city, v.country, v.created_at, v.created_by, v.credit_limit, v.delivery_terms, v.email, v.is_active, v.mobile, v.organization_name, v.password, v.payment_terms, v.postal_code, v.preferred_payment_method, v.state, v.street, v.tax_id, v.updated_at, v.updated_by, v.vendor_code, v.vendor_name, v.website
FROM vendor.vendor AS v
WHERE v.email = @__email_0
LIMIT 1
2025-10-29 21:35:26.048 +05:30  INF  Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2025-10-29 21:35:26.050 +05:30  INF  Executed action Buildflow.Api.Controllers.Master.LoginController.Login (Buildflow.Api) in 519.7102ms
2025-10-29 21:35:26.051 +05:30  INF  Executed endpoint 'Buildflow.Api.Controllers.Master.LoginController.Login (Buildflow.Api)'
2025-10-29 21:35:26.058 +05:30  INF  Request finished HTTP/1.1 POST http://localhost:5033/api/Login/login - 401 null text/plain; charset=utf-8 541.3944ms
2025-10-29 21:37:00.121 +05:30  INF  Request starting HTTP/1.1 POST http://localhost:5033/api/Login/login - application/json 78
2025-10-29 21:37:00.134 +05:30  INF  CORS policy execution successful.
2025-10-29 21:37:00.481 +05:30  INF  Failed to validate the token.Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14121: JWT is not a well formed JWE, there must be four dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)

2025-10-29 21:37:00.514 +05:30  INF  Bearer was not authenticated. Failure message: IDX14121: JWT is not a well formed JWE, there must be four dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-10-29 21:37:00.514 +05:30  INF  Executing endpoint 'Buildflow.Api.Controllers.Master.LoginController.Login (Buildflow.Api)'
2025-10-29 21:37:00.514 +05:30  INF  Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Buildflow.Utility.DTO.LoginRequest) on controller Buildflow.Api.Controllers.Master.LoginController (Buildflow.Api).
2025-10-29 21:37:00.701 +05:30  INF  Executed DbCommand (182ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT v.vendor_id, v.alternative_mobile, v.city, v.country, v.created_at, v.created_by, v.credit_limit, v.delivery_terms, v.email, v.is_active, v.mobile, v.organization_name, v.password, v.payment_terms, v.postal_code, v.preferred_payment_method, v.state, v.street, v.tax_id, v.updated_at, v.updated_by, v.vendor_code, v.vendor_name, v.website
FROM vendor.vendor AS v
WHERE v.email = @__email_0
LIMIT 1
2025-10-29 21:37:00.703 +05:30  INF  Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2025-10-29 21:37:00.705 +05:30  INF  Executed action Buildflow.Api.Controllers.Master.LoginController.Login (Buildflow.Api) in 191.1197ms
2025-10-29 21:37:00.706 +05:30  INF  Executed endpoint 'Buildflow.Api.Controllers.Master.LoginController.Login (Buildflow.Api)'
2025-10-29 21:37:00.708 +05:30  INF  Request finished HTTP/1.1 POST http://localhost:5033/api/Login/login - 401 null text/plain; charset=utf-8 586.0571ms
2025-10-29 21:37:19.122 +05:30  INF  Request starting HTTP/1.1 GET http://localhost:5033/api/Login/LoginUserDetail - null null
2025-10-29 21:37:19.130 +05:30  INF  Failed to validate the token.Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14121: JWT is not a well formed JWE, there must be four dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)

2025-10-29 21:37:19.130 +05:30  INF  Bearer was not authenticated. Failure message: IDX14121: JWT is not a well formed JWE, there must be four dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-10-29 21:37:19.130 +05:30  INF  Executing endpoint 'Buildflow.Api.Controllers.Master.LoginController.LoginUserDetail (Buildflow.Api)'
2025-10-29 21:37:19.137 +05:30  INF  Route matched with {action = "LoginUserDetail", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUserDetail() on controller Buildflow.Api.Controllers.Master.LoginController (Buildflow.Api).
2025-10-29 21:37:19.137 +05:30  INF  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-10-29 21:37:19.138 +05:30  INF  Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2025-10-29 21:37:19.138 +05:30  INF  Executing ChallengeResult with authentication schemes ([]).
2025-10-29 21:37:19.142 +05:30  INF  AuthenticationScheme: Bearer was challenged.
2025-10-29 21:37:19.142 +05:30  INF  Executed action Buildflow.Api.Controllers.Master.LoginController.LoginUserDetail (Buildflow.Api) in 5.1938ms
2025-10-29 21:37:19.142 +05:30  INF  Executed endpoint 'Buildflow.Api.Controllers.Master.LoginController.LoginUserDetail (Buildflow.Api)'
2025-10-29 21:37:19.143 +05:30  INF  Request finished HTTP/1.1 GET http://localhost:5033/api/Login/LoginUserDetail - 401 0 null 20.9346ms
2025-10-29 21:38:11.370 +05:30  INF  Request starting HTTP/1.1 POST http://localhost:5033/api/Login/refresh-token - application/json 30
2025-10-29 21:38:11.374 +05:30  INF  CORS policy execution successful.
2025-10-29 21:38:11.374 +05:30  INF  Failed to validate the token.Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14121: JWT is not a well formed JWE, there must be four dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)

2025-10-29 21:38:11.374 +05:30  INF  Bearer was not authenticated. Failure message: IDX14121: JWT is not a well formed JWE, there must be four dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-10-29 21:38:11.374 +05:30  INF  Executing endpoint 'Buildflow.Api.Controllers.Master.LoginController.RefreshToken (Buildflow.Api)'
2025-10-29 21:38:11.374 +05:30  INF  Route matched with {action = "RefreshToken", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(Buildflow.Api.Model.RefreshRequest) on controller Buildflow.Api.Controllers.Master.LoginController (Buildflow.Api).
2025-10-29 21:38:11.457 +05:30  INF  Executed DbCommand (30ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r.id, r.email, r.expirydate, r.isrevoked, r.token
FROM employee.refreshtoken AS r
WHERE r.token = @__refreshToken_0 AND r.isrevoked = FALSE
LIMIT 1
2025-10-29 21:38:11.459 +05:30  INF  Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2025-10-29 21:38:11.460 +05:30  INF  Executed action Buildflow.Api.Controllers.Master.LoginController.RefreshToken (Buildflow.Api) in 85.2945ms
2025-10-29 21:38:11.460 +05:30  INF  Executed endpoint 'Buildflow.Api.Controllers.Master.LoginController.RefreshToken (Buildflow.Api)'
2025-10-29 21:38:11.461 +05:30  INF  Request finished HTTP/1.1 POST http://localhost:5033/api/Login/refresh-token - 401 null text/plain; charset=utf-8 90.9043ms
2025-10-29 21:43:22.723 +05:30  INF  User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-29 21:43:23.490 +05:30  INF  Now listening on: http://localhost:5033
2025-10-29 21:43:23.823 +05:30  INF  Application started. Press Ctrl+C to shut down.
2025-10-29 21:43:23.823 +05:30  INF  Hosting environment: Development
2025-10-29 21:43:23.824 +05:30  INF  Content root path: C:\Users\User\OneDrive\Desktop\BulidFlow Project\BuildflowBackend\Buildflow.Api
2025-10-29 21:43:34.211 +05:30  INF  Request starting HTTP/1.1 GET http://localhost:5033/_vs/browserLink - null null
2025-10-29 21:43:34.210 +05:30  INF  Request starting HTTP/1.1 GET http://localhost:5033/_framework/aspnetcore-browser-refresh.js - null null
2025-10-29 21:43:34.269 +05:30  INF  Request finished HTTP/1.1 GET http://localhost:5033/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 72.1804ms
2025-10-29 21:43:36.420 +05:30  INF  Request finished HTTP/1.1 GET http://localhost:5033/_vs/browserLink - 200 null text/javascript; charset=UTF-8 2222.6095ms
2025-10-29 21:43:36.614 +05:30  INF  Request starting HTTP/1.1 GET http://localhost:5033/swagger/v1/swagger.json - null null
2025-10-29 21:43:36.729 +05:30  WRN  Failed to determine the https port for redirect.
2025-10-29 21:43:37.026 +05:30  INF  Request finished HTTP/1.1 GET http://localhost:5033/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 411.5452ms

2025-11-04 11:35:41.270 +05:30  INF  Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-11-04 11:35:41.338 +05:30  INF  Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-11-04 11:35:41.456 +05:30  INF  Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-11-04 11:35:41.565 +05:30  INF  Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-11-04 11:35:41.570 +05:30  INF  Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-11-04 11:35:41.585 +05:30  INF  Applying migration '20251104060520_InitialCreate'.
2025-11-04 11:35:41.729 +05:30  INF  Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM pg_namespace WHERE nspname = 'report') THEN
        CREATE SCHEMA report;
    END IF;
END $EF$;
2025-11-04 11:35:41.736 +05:30  INF  Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM pg_namespace WHERE nspname = 'ticket') THEN
        CREATE SCHEMA ticket;
    END IF;
END $EF$;
2025-11-04 11:35:41.742 +05:30  INF  Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM pg_namespace WHERE nspname = 'board') THEN
        CREATE SCHEMA board;
    END IF;
END $EF$;
2025-11-04 11:35:41.747 +05:30  INF  Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM pg_namespace WHERE nspname = 'project') THEN
        CREATE SCHEMA project;
    END IF;
END $EF$;
2025-11-04 11:35:41.754 +05:30  INF  Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM pg_namespace WHERE nspname = 'master') THEN
        CREATE SCHEMA master;
    END IF;
END $EF$;
2025-11-04 11:35:41.760 +05:30  INF  Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM pg_namespace WHERE nspname = 'vendor') THEN
        CREATE SCHEMA vendor;
    END IF;
END $EF$;
2025-11-04 11:35:41.766 +05:30  INF  Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM pg_namespace WHERE nspname = 'employee') THEN
        CREATE SCHEMA employee;
    END IF;
END $EF$;
2025-11-04 11:35:41.772 +05:30  INF  Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM pg_namespace WHERE nspname = 'notification') THEN
        CREATE SCHEMA notification;
    END IF;
END $EF$;
2025-11-04 11:35:41.779 +05:30  INF  Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM pg_namespace WHERE nspname = 'subcontractor') THEN
        CREATE SCHEMA subcontractor;
    END IF;
END $EF$;
2025-11-04 11:35:41.850 +05:30  ERR  Failed executing DbCommand (70ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE master.department (
    dept_id integer GENERATED BY DEFAULT AS IDENTITY,
    dept_name character varying(100) NOT NULL,
    dept_description text,
    dept_code character varying(20),
    parent_dept_id integer,
    created_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    updated_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    created_by integer,
    updated_by integer,
    CONSTRAINT department_pkey PRIMARY KEY (dept_id),
    CONSTRAINT department_parent_dept_id_fkey FOREIGN KEY (parent_dept_id) REFERENCES master.department (dept_id)
);
2025-11-04 11:38:40.851 +05:30  INF  Executed DbCommand (619ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE buildflow_live_db WITH (FORCE);
2025-11-04 11:38:58.040 +05:30  INF  Executed DbCommand (1,898ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE buildflow_live_db;
2025-11-04 11:38:58.556 +05:30  INF  Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-11-04 11:38:58.711 +05:30  INF  Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-11-04 11:38:58.721 +05:30  INF  Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-11-04 11:38:58.731 +05:30  INF  Applying migration '20251104060520_InitialCreate'.
2025-11-04 11:38:58.845 +05:30  INF  Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM pg_namespace WHERE nspname = 'report') THEN
        CREATE SCHEMA report;
    END IF;
END $EF$;
2025-11-04 11:38:58.851 +05:30  INF  Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM pg_namespace WHERE nspname = 'ticket') THEN
        CREATE SCHEMA ticket;
    END IF;
END $EF$;
2025-11-04 11:38:58.857 +05:30  INF  Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM pg_namespace WHERE nspname = 'board') THEN
        CREATE SCHEMA board;
    END IF;
END $EF$;
2025-11-04 11:38:58.863 +05:30  INF  Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM pg_namespace WHERE nspname = 'project') THEN
        CREATE SCHEMA project;
    END IF;
END $EF$;
2025-11-04 11:38:58.869 +05:30  INF  Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM pg_namespace WHERE nspname = 'master') THEN
        CREATE SCHEMA master;
    END IF;
END $EF$;
2025-11-04 11:38:58.875 +05:30  INF  Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM pg_namespace WHERE nspname = 'vendor') THEN
        CREATE SCHEMA vendor;
    END IF;
END $EF$;
2025-11-04 11:38:58.882 +05:30  INF  Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM pg_namespace WHERE nspname = 'employee') THEN
        CREATE SCHEMA employee;
    END IF;
END $EF$;
2025-11-04 11:38:58.888 +05:30  INF  Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM pg_namespace WHERE nspname = 'notification') THEN
        CREATE SCHEMA notification;
    END IF;
END $EF$;
2025-11-04 11:38:58.895 +05:30  INF  Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM pg_namespace WHERE nspname = 'subcontractor') THEN
        CREATE SCHEMA subcontractor;
    END IF;
END $EF$;
2025-11-04 11:38:58.926 +05:30  INF  Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE master.department (
    dept_id integer GENERATED BY DEFAULT AS IDENTITY,
    dept_name character varying(100) NOT NULL,
    dept_description text,
    dept_code character varying(20),
    parent_dept_id integer,
    created_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    updated_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    created_by integer,
    updated_by integer,
    CONSTRAINT department_pkey PRIMARY KEY (dept_id),
    CONSTRAINT department_parent_dept_id_fkey FOREIGN KEY (parent_dept_id) REFERENCES master.department (dept_id)
);
2025-11-04 11:38:58.945 +05:30  INF  Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE employee.employee_details (
    emp_id integer GENERATED BY DEFAULT AS IDENTITY,
    employee_code character varying(50),
    first_name character varying(100) NOT NULL,
    middle_name character varying(100),
    last_name character varying(100),
    email character varying(150) NOT NULL,
    password character varying(255),
    phone character varying(20) NOT NULL,
    alternative_phone character varying(20),
    date_of_birth date,
    hire_date date,
    termination_date date,
    is_active boolean DEFAULT TRUE,
    address text,
    city character varying(100),
    state character varying(100),
    country character varying(100),
    postal_code character varying(20),
    image_url character varying(255),
    created_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    updated_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    created_by integer,
    updated_by integer,
    is_allocated boolean DEFAULT FALSE,
    gender character varying,
    CONSTRAINT employee_details_pkey PRIMARY KEY (emp_id)
);
2025-11-04 11:38:58.958 +05:30  INF  Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE vendor.materialcategory (
    materialcategoryid integer NOT NULL,
    categoryname character varying,
    CONSTRAINT materialcategory_pkey PRIMARY KEY (materialcategoryid)
);
2025-11-04 11:38:58.972 +05:30  INF  Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE master.project_budget (
    project_budget_id integer GENERATED BY DEFAULT AS IDENTITY,
    project_expense_category character varying(100) NOT NULL,
    CONSTRAINT project_budget_pkey PRIMARY KEY (project_budget_id)
);
2025-11-04 11:38:58.989 +05:30  INF  Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE master.project_sector (
    project_sector_id integer GENERATED BY DEFAULT AS IDENTITY,
    project_sector_name character varying(100) NOT NULL,
    project_sector_description text,
    sector_code character varying(20),
    created_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    updated_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    created_by integer,
    updated_by integer,
    CONSTRAINT project_sector_pkey PRIMARY KEY (project_sector_id)
);
2025-11-04 11:38:59.014 +05:30  INF  Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE master.project_types (
    project_type_id integer GENERATED BY DEFAULT AS IDENTITY,
    project_type_name character varying(100) NOT NULL,
    project_type_description text,
    type_code character varying(20),
    created_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    updated_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    created_by integer,
    updated_by integer,
    CONSTRAINT project_types_pkey PRIMARY KEY (project_type_id)
);
2025-11-04 11:38:59.030 +05:30  INF  Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE employee.refreshtoken (
    id integer GENERATED BY DEFAULT AS IDENTITY,
    token text NOT NULL,
    email text NOT NULL,
    expirydate timestamp without time zone NOT NULL,
    isrevoked boolean DEFAULT FALSE,
    CONSTRAINT refreshtoken_pkey PRIMARY KEY (id)
);
2025-11-04 11:38:59.045 +05:30  INF  Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE report.reports (
    report_id integer GENERATED BY DEFAULT AS IDENTITY,
    report_code character varying,
    report_type character varying NOT NULL,
    project_id character varying NOT NULL,
    report_date timestamp without time zone NOT NULL,
    reported_by character varying NOT NULL,
    report_data jsonb NOT NULL,
    created_at timestamp without time zone DEFAULT (CURRENT_TIMESTAMP),
    updated_at timestamp without time zone DEFAULT (CURRENT_TIMESTAMP),
    CONSTRAINT reports_pkey PRIMARY KEY (report_id)
);
2025-11-04 11:38:59.061 +05:30  INF  Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE master.role (
    role_id integer GENERATED BY DEFAULT AS IDENTITY,
    role_name character varying(100) NOT NULL,
    role_description text,
    is_system_role boolean DEFAULT FALSE,
    created_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    updated_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    created_by integer,
    updated_by integer,
    rolecode character varying(50),
    CONSTRAINT role_pkey PRIMARY KEY (role_id)
);
2025-11-04 11:38:59.075 +05:30  INF  Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE subcontractor.subcontractor (
    subcontractor_id integer GENERATED BY DEFAULT AS IDENTITY,
    subcontractor_code character varying(50),
    subcontractor_name character varying(150) NOT NULL,
    email character varying(150) NOT NULL,
    phone character varying(20) NOT NULL,
    alternative_phone character varying(20),
    website character varying(255),
    street text,
    city character varying(100),
    state character varying(100),
    country character varying(100),
    postal_code character varying(20),
    tax_id character varying(50),
    insurance_details text,
    is_active boolean DEFAULT TRUE,
    created_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    updated_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    created_by integer,
    updated_by integer,
    CONSTRAINT subcontractor_pkey PRIMARY KEY (subcontractor_id)
);
2025-11-04 11:38:59.081 +05:30  INF  Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE v_board_id (
    board_id integer
);
2025-11-04 11:38:59.101 +05:30  INF  Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE vendor.vendor (
    vendor_id integer GENERATED BY DEFAULT AS IDENTITY,
    vendor_code character varying(50),
    vendor_name character varying(150) NOT NULL,
    organization_name character varying(200),
    mobile character varying(20) NOT NULL,
    alternative_mobile character varying(20),
    email character varying(150) NOT NULL,
    website character varying(255),
    street text,
    city character varying(100),
    state character varying(100),
    country character varying(100),
    postal_code character varying(20),
    tax_id character varying(50),
    payment_terms text,
    preferred_payment_method character varying(100),
    delivery_terms text,
    credit_limit numeric(15,2),
    is_active boolean DEFAULT TRUE,
    created_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    updated_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    created_by integer,
    updated_by integer,
    password character varying(255),
    CONSTRAINT vendor_pkey PRIMARY KEY (vendor_id)
);
2025-11-04 11:38:59.118 +05:30  INF  Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE board.board (
    board_id integer GENERATED BY DEFAULT AS IDENTITY,
    name character varying(255) NOT NULL,
    description text,
    created_by integer NOT NULL,
    updated_by integer,
    created_at timestamp without time zone DEFAULT (CURRENT_TIMESTAMP),
    updated_at timestamp without time zone,
    CONSTRAINT board_pkey PRIMARY KEY (board_id),
    CONSTRAINT fk_board_created_by FOREIGN KEY (created_by) REFERENCES employee.employee_details (emp_id),
    CONSTRAINT fk_board_updated_by FOREIGN KEY (updated_by) REFERENCES employee.employee_details (emp_id)
);
2025-11-04 11:38:59.134 +05:30  INF  Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE employee.employee_department (
    emp_dept_id integer GENERATED BY DEFAULT AS IDENTITY,
    emp_id integer NOT NULL,
    dept_id integer NOT NULL,
    assigned_date date DEFAULT (CURRENT_DATE),
    end_date date,
    is_primary boolean DEFAULT TRUE,
    created_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    updated_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    created_by integer,
    updated_by integer,
    CONSTRAINT employee_department_pkey PRIMARY KEY (emp_dept_id),
    CONSTRAINT employee_department_dept_id_fkey FOREIGN KEY (dept_id) REFERENCES master.department (dept_id) ON DELETE CASCADE,
    CONSTRAINT employee_department_emp_id_fkey FOREIGN KEY (emp_id) REFERENCES employee.employee_details (emp_id) ON DELETE CASCADE
);
2025-11-04 11:38:59.151 +05:30  INF  Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE notification.notifications (
    notification_id integer GENERATED BY DEFAULT AS IDENTITY,
    emp_id integer,
    notification_type character varying(255),
    source_entity_id integer,
    message text,
    timestamp timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    is_read boolean DEFAULT FALSE,
    CONSTRAINT notifications_pkey PRIMARY KEY (notification_id),
    CONSTRAINT notifications_emp_id_fkey FOREIGN KEY (emp_id) REFERENCES employee.employee_details (emp_id)
);
2025-11-04 11:38:59.174 +05:30  INF  Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE project.project (
    project_id integer GENERATED BY DEFAULT AS IDENTITY,
    project_code character varying(50),
    project_name character varying(200) NOT NULL,
    project_description text,
    project_type_id integer NOT NULL,
    project_sector_id integer,
    project_status character varying(50) NOT NULL,
    project_start_date date NOT NULL,
    project_end_date date,
    project_total_budget numeric(15,2) NOT NULL,
    project_actual_cost numeric(15,2) DEFAULT (0.00),
    client_name character varying(200),
    project_priority character varying(20),
    is_active boolean DEFAULT TRUE,
    created_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    updated_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    created_by integer,
    updated_by integer,
    project_location character varying(50),
    CONSTRAINT project_pkey PRIMARY KEY (project_id),
    CONSTRAINT project_project_sector_id_fkey FOREIGN KEY (project_sector_id) REFERENCES master.project_sector (project_sector_id),
    CONSTRAINT project_project_type_id_fkey FOREIGN KEY (project_type_id) REFERENCES master.project_types (project_type_id)
);
2025-11-04 11:38:59.191 +05:30  INF  Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE report.attachment (
    attachment_id integer GENERATED BY DEFAULT AS IDENTITY,
    report_id integer,
    file_name character varying NOT NULL,
    file_path text NOT NULL,
    uploaded_at timestamp without time zone DEFAULT (CURRENT_TIMESTAMP),
    CONSTRAINT attachment_pkey PRIMARY KEY (attachment_id),
    CONSTRAINT attachment_report_id_fkey FOREIGN KEY (report_id) REFERENCES report.reports (report_id) ON DELETE CASCADE
);
2025-11-04 11:38:59.205 +05:30  INF  Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE master.department_role_mapping (
    id integer GENERATED BY DEFAULT AS IDENTITY,
    dept_id integer NOT NULL,
    role_id integer NOT NULL,
    CONSTRAINT department_role_mapping_pkey PRIMARY KEY (id),
    CONSTRAINT department_role_mapping_dept_id_fkey FOREIGN KEY (dept_id) REFERENCES master.department (dept_id) ON DELETE CASCADE,
    CONSTRAINT department_role_mapping_role_id_fkey FOREIGN KEY (role_id) REFERENCES master.role (role_id) ON DELETE CASCADE
);
2025-11-04 11:38:59.221 +05:30  INF  Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE employee.employee_role (
    emp_role_id integer GENERATED BY DEFAULT AS IDENTITY,
    emp_id integer NOT NULL,
    role_id integer NOT NULL,
    assigned_date date DEFAULT (CURRENT_DATE),
    end_date date,
    created_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    updated_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    created_by integer,
    updated_by integer,
    CONSTRAINT employee_role_pkey PRIMARY KEY (emp_role_id),
    CONSTRAINT employee_role_emp_id_fkey FOREIGN KEY (emp_id) REFERENCES employee.employee_details (emp_id) ON DELETE CASCADE,
    CONSTRAINT employee_role_role_id_fkey FOREIGN KEY (role_id) REFERENCES master.role (role_id) ON DELETE CASCADE
);
2025-11-04 11:38:59.233 +05:30  INF  Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE vendor.department (
    vendor_dept_id integer GENERATED BY DEFAULT AS IDENTITY,
    vendor_id integer,
    dept_id integer,
    CONSTRAINT department_pkey PRIMARY KEY (vendor_dept_id),
    CONSTRAINT fk_vendor FOREIGN KEY (vendor_id) REFERENCES vendor.vendor (vendor_id),
    CONSTRAINT fk_vendor_dept FOREIGN KEY (dept_id) REFERENCES master.department (dept_id)
);
2025-11-04 11:38:59.247 +05:30  INF  Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE vendor.material (
    materialid integer NOT NULL,
    vendor_id integer,
    material text,
    unit text,
    currentprice numeric,
    price numeric,
    createdat timestamp without time zone,
    updatedat timestamp without time zone,
    createdby text,
    updatedby text,
    materialcategoryid integer,
    CONSTRAINT material_pkey PRIMARY KEY (materialid),
    CONSTRAINT material_materialcategoryid_fkey FOREIGN KEY (materialcategoryid) REFERENCES vendor.materialcategory (materialcategoryid),
    CONSTRAINT material_vendor_id_fkey FOREIGN KEY (vendor_id) REFERENCES vendor.vendor (vendor_id)
);
2025-11-04 11:38:59.260 +05:30  INF  Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE vendor.vendorrole (
    vendor_role_id integer GENERATED BY DEFAULT AS IDENTITY,
    vendor_id integer,
    role_id integer,
    CONSTRAINT vendorrole_pkey PRIMARY KEY (vendor_role_id),
    CONSTRAINT vendorrole_role_id_fkey FOREIGN KEY (role_id) REFERENCES master.role (role_id),
    CONSTRAINT vendorrole_vendor_id_fkey FOREIGN KEY (vendor_id) REFERENCES vendor.vendor (vendor_id)
);
2025-11-04 11:38:59.279 +05:30  INF  Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE board.boardlabel (
    labelid integer GENERATED BY DEFAULT AS IDENTITY,
    name character varying(100) NOT NULL,
    description text,
    board_id integer,
    position integer,
    wiplimit integer,
    colorcode character varying(20),
    isexpand boolean DEFAULT FALSE,
    is_active boolean DEFAULT TRUE,
    created_date timestamp without time zone DEFAULT (CURRENT_TIMESTAMP),
    created_by integer,
    last_updated_date timestamp without time zone,
    updated_by integer,
    code character varying(50),
    is_default boolean DEFAULT FALSE,
    is_move_state boolean DEFAULT FALSE,
    CONSTRAINT boardlabel_pkey PRIMARY KEY (labelid),
    CONSTRAINT fk_boardlabel_board FOREIGN KEY (board_id) REFERENCES board.board (board_id),
    CONSTRAINT fk_boardlabel_created_by FOREIGN KEY (created_by) REFERENCES employee.employee_details (emp_id),
    CONSTRAINT fk_boardlabel_updated_by FOREIGN KEY (updated_by) REFERENCES employee.employee_details (emp_id)
);
2025-11-04 11:38:59.302 +05:30  INF  Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE project.boq (
    boq_id integer GENERATED BY DEFAULT AS IDENTITY,
    boq_name character varying(255),
    boq_code text,
    project_id integer,
    created_by integer,
    vendor_id integer,
    CONSTRAINT boq_pkey PRIMARY KEY (boq_id),
    CONSTRAINT fk_boq_emp FOREIGN KEY (created_by) REFERENCES employee.employee_details (emp_id),
    CONSTRAINT fk_project_boq FOREIGN KEY (project_id) REFERENCES project.project (project_id),
    CONSTRAINT fk_vendor FOREIGN KEY (vendor_id) REFERENCES vendor.vendor (vendor_id) ON DELETE SET NULL
);
2025-11-04 11:38:59.318 +05:30  INF  Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE project.project_budget_details (
    project_budget_id integer GENERATED BY DEFAULT AS IDENTITY,
    project_id integer NOT NULL,
    project_expense_category character varying(100) NOT NULL,
    estimated_cost numeric(12,2) NOT NULL,
    approved_budget numeric(12,2),
    CONSTRAINT pk_project_budget_id PRIMARY KEY (project_budget_id),
    CONSTRAINT fk_project FOREIGN KEY (project_id) REFERENCES project.project (project_id) ON DELETE CASCADE
);
2025-11-04 11:38:59.331 +05:30  INF  Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE project.project_details (
    project_detail_id integer GENERATED BY DEFAULT AS IDENTITY,
    project_id integer NOT NULL,
    project_location text NOT NULL,
    plot_number character varying(100),
    site_address text,
    latitude numeric(10,8),
    longitude numeric(11,8),
    land_area numeric(15,2),
    land_area_unit character varying(20) DEFAULT ('sqft'::character varying),
    zoning_type character varying(100),
    created_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    updated_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    created_by integer,
    updated_by integer,
    CONSTRAINT project_details_pkey PRIMARY KEY (project_detail_id),
    CONSTRAINT project_details_project_id_fkey FOREIGN KEY (project_id) REFERENCES project.project (project_id) ON DELETE CASCADE
);
2025-11-04 11:38:59.350 +05:30  INF  Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE project.project_milestone (
    milestone_id integer GENERATED BY DEFAULT AS IDENTITY,
    project_id integer NOT NULL,
    milestone_name character varying(200) NOT NULL,
    milestone_description text,
    milestone_start_date date NOT NULL,
    milestone_end_date date NOT NULL,
    milestone_status character varying(50) NOT NULL,
    milestone_budget numeric(15,2),
    actual_cost numeric(15,2) DEFAULT (0.00),
    completion_percentage numeric(5,2) DEFAULT (0.00),
    created_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    updated_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    created_by integer,
    updated_by integer,
    CONSTRAINT project_milestone_pkey PRIMARY KEY (milestone_id),
    CONSTRAINT project_milestone_project_id_fkey FOREIGN KEY (project_id) REFERENCES project.project (project_id) ON DELETE CASCADE
);
2025-11-04 11:38:59.460 +05:30  ERR  Failed executing DbCommand (109ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE project.project_permission_finance_approval (
    permission_finance_approval_id integer NOT NULL DEFAULT (nextval('project.project_permission_finance_ap_permission_finance_approval_i_seq'::regclass)),
    project_id integer,
    emp_id integer,
    amount double precision NOT NULL,
    CONSTRAINT project_permission_finance_approval_pkey PRIMARY KEY (permission_finance_approval_id),
    CONSTRAINT project_permission_finance_approval_emp_id_fkey FOREIGN KEY (emp_id) REFERENCES employee.employee_details (emp_id),
    CONSTRAINT project_permission_finance_approval_project_id_fkey FOREIGN KEY (project_id) REFERENCES project.project (project_id)
);
2025-11-04 11:39:19.636 +05:30  INF  Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-11-04 11:39:19.670 +05:30  INF  Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-11-04 11:39:19.854 +05:30  INF  Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-11-04 11:39:20.022 +05:30  INF  Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-11-04 11:39:20.083 +05:30  INF  Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-11-04 11:39:20.094 +05:30  INF  Applying migration '20251104060520_InitialCreate'.
2025-11-04 11:39:20.240 +05:30  INF  Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM pg_namespace WHERE nspname = 'report') THEN
        CREATE SCHEMA report;
    END IF;
END $EF$;
2025-11-04 11:39:20.268 +05:30  INF  Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM pg_namespace WHERE nspname = 'ticket') THEN
        CREATE SCHEMA ticket;
    END IF;
END $EF$;
2025-11-04 11:39:20.284 +05:30  INF  Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM pg_namespace WHERE nspname = 'board') THEN
        CREATE SCHEMA board;
    END IF;
END $EF$;
2025-11-04 11:39:20.294 +05:30  INF  Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM pg_namespace WHERE nspname = 'project') THEN
        CREATE SCHEMA project;
    END IF;
END $EF$;
2025-11-04 11:39:20.313 +05:30  INF  Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM pg_namespace WHERE nspname = 'master') THEN
        CREATE SCHEMA master;
    END IF;
END $EF$;
2025-11-04 11:39:20.345 +05:30  INF  Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM pg_namespace WHERE nspname = 'vendor') THEN
        CREATE SCHEMA vendor;
    END IF;
END $EF$;
2025-11-04 11:39:20.378 +05:30  INF  Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM pg_namespace WHERE nspname = 'employee') THEN
        CREATE SCHEMA employee;
    END IF;
END $EF$;
2025-11-04 11:39:20.388 +05:30  INF  Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM pg_namespace WHERE nspname = 'notification') THEN
        CREATE SCHEMA notification;
    END IF;
END $EF$;
2025-11-04 11:39:20.395 +05:30  INF  Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM pg_namespace WHERE nspname = 'subcontractor') THEN
        CREATE SCHEMA subcontractor;
    END IF;
END $EF$;
2025-11-04 11:39:20.469 +05:30  INF  Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE master.department (
    dept_id integer GENERATED BY DEFAULT AS IDENTITY,
    dept_name character varying(100) NOT NULL,
    dept_description text,
    dept_code character varying(20),
    parent_dept_id integer,
    created_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    updated_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    created_by integer,
    updated_by integer,
    CONSTRAINT department_pkey PRIMARY KEY (dept_id),
    CONSTRAINT department_parent_dept_id_fkey FOREIGN KEY (parent_dept_id) REFERENCES master.department (dept_id)
);
2025-11-04 11:39:20.504 +05:30  INF  Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE employee.employee_details (
    emp_id integer GENERATED BY DEFAULT AS IDENTITY,
    employee_code character varying(50),
    first_name character varying(100) NOT NULL,
    middle_name character varying(100),
    last_name character varying(100),
    email character varying(150) NOT NULL,
    password character varying(255),
    phone character varying(20) NOT NULL,
    alternative_phone character varying(20),
    date_of_birth date,
    hire_date date,
    termination_date date,
    is_active boolean DEFAULT TRUE,
    address text,
    city character varying(100),
    state character varying(100),
    country character varying(100),
    postal_code character varying(20),
    image_url character varying(255),
    created_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    updated_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    created_by integer,
    updated_by integer,
    is_allocated boolean DEFAULT FALSE,
    gender character varying,
    CONSTRAINT employee_details_pkey PRIMARY KEY (emp_id)
);
2025-11-04 11:39:20.532 +05:30  INF  Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE vendor.materialcategory (
    materialcategoryid integer NOT NULL,
    categoryname character varying,
    CONSTRAINT materialcategory_pkey PRIMARY KEY (materialcategoryid)
);
2025-11-04 11:39:20.566 +05:30  INF  Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE master.project_budget (
    project_budget_id integer GENERATED BY DEFAULT AS IDENTITY,
    project_expense_category character varying(100) NOT NULL,
    CONSTRAINT project_budget_pkey PRIMARY KEY (project_budget_id)
);
2025-11-04 11:39:20.585 +05:30  INF  Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE master.project_sector (
    project_sector_id integer GENERATED BY DEFAULT AS IDENTITY,
    project_sector_name character varying(100) NOT NULL,
    project_sector_description text,
    sector_code character varying(20),
    created_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    updated_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    created_by integer,
    updated_by integer,
    CONSTRAINT project_sector_pkey PRIMARY KEY (project_sector_id)
);
2025-11-04 11:39:20.632 +05:30  INF  Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE master.project_types (
    project_type_id integer GENERATED BY DEFAULT AS IDENTITY,
    project_type_name character varying(100) NOT NULL,
    project_type_description text,
    type_code character varying(20),
    created_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    updated_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    created_by integer,
    updated_by integer,
    CONSTRAINT project_types_pkey PRIMARY KEY (project_type_id)
);
2025-11-04 11:39:20.649 +05:30  INF  Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE employee.refreshtoken (
    id integer GENERATED BY DEFAULT AS IDENTITY,
    token text NOT NULL,
    email text NOT NULL,
    expirydate timestamp without time zone NOT NULL,
    isrevoked boolean DEFAULT FALSE,
    CONSTRAINT refreshtoken_pkey PRIMARY KEY (id)
);
2025-11-04 11:39:20.667 +05:30  INF  Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE report.reports (
    report_id integer GENERATED BY DEFAULT AS IDENTITY,
    report_code character varying,
    report_type character varying NOT NULL,
    project_id character varying NOT NULL,
    report_date timestamp without time zone NOT NULL,
    reported_by character varying NOT NULL,
    report_data jsonb NOT NULL,
    created_at timestamp without time zone DEFAULT (CURRENT_TIMESTAMP),
    updated_at timestamp without time zone DEFAULT (CURRENT_TIMESTAMP),
    CONSTRAINT reports_pkey PRIMARY KEY (report_id)
);
2025-11-04 11:39:20.687 +05:30  INF  Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE master.role (
    role_id integer GENERATED BY DEFAULT AS IDENTITY,
    role_name character varying(100) NOT NULL,
    role_description text,
    is_system_role boolean DEFAULT FALSE,
    created_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    updated_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    created_by integer,
    updated_by integer,
    rolecode character varying(50),
    CONSTRAINT role_pkey PRIMARY KEY (role_id)
);
2025-11-04 11:39:20.778 +05:30  INF  Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE subcontractor.subcontractor (
    subcontractor_id integer GENERATED BY DEFAULT AS IDENTITY,
    subcontractor_code character varying(50),
    subcontractor_name character varying(150) NOT NULL,
    email character varying(150) NOT NULL,
    phone character varying(20) NOT NULL,
    alternative_phone character varying(20),
    website character varying(255),
    street text,
    city character varying(100),
    state character varying(100),
    country character varying(100),
    postal_code character varying(20),
    tax_id character varying(50),
    insurance_details text,
    is_active boolean DEFAULT TRUE,
    created_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    updated_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    created_by integer,
    updated_by integer,
    CONSTRAINT subcontractor_pkey PRIMARY KEY (subcontractor_id)
);
2025-11-04 11:39:20.790 +05:30  INF  Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE v_board_id (
    board_id integer
);
2025-11-04 11:39:20.820 +05:30  INF  Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE vendor.vendor (
    vendor_id integer GENERATED BY DEFAULT AS IDENTITY,
    vendor_code character varying(50),
    vendor_name character varying(150) NOT NULL,
    organization_name character varying(200),
    mobile character varying(20) NOT NULL,
    alternative_mobile character varying(20),
    email character varying(150) NOT NULL,
    website character varying(255),
    street text,
    city character varying(100),
    state character varying(100),
    country character varying(100),
    postal_code character varying(20),
    tax_id character varying(50),
    payment_terms text,
    preferred_payment_method character varying(100),
    delivery_terms text,
    credit_limit numeric(15,2),
    is_active boolean DEFAULT TRUE,
    created_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    updated_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    created_by integer,
    updated_by integer,
    password character varying(255),
    CONSTRAINT vendor_pkey PRIMARY KEY (vendor_id)
);
2025-11-04 11:39:20.846 +05:30  INF  Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE board.board (
    board_id integer GENERATED BY DEFAULT AS IDENTITY,
    name character varying(255) NOT NULL,
    description text,
    created_by integer NOT NULL,
    updated_by integer,
    created_at timestamp without time zone DEFAULT (CURRENT_TIMESTAMP),
    updated_at timestamp without time zone,
    CONSTRAINT board_pkey PRIMARY KEY (board_id),
    CONSTRAINT fk_board_created_by FOREIGN KEY (created_by) REFERENCES employee.employee_details (emp_id),
    CONSTRAINT fk_board_updated_by FOREIGN KEY (updated_by) REFERENCES employee.employee_details (emp_id)
);
2025-11-04 11:39:20.868 +05:30  INF  Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE employee.employee_department (
    emp_dept_id integer GENERATED BY DEFAULT AS IDENTITY,
    emp_id integer NOT NULL,
    dept_id integer NOT NULL,
    assigned_date date DEFAULT (CURRENT_DATE),
    end_date date,
    is_primary boolean DEFAULT TRUE,
    created_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    updated_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    created_by integer,
    updated_by integer,
    CONSTRAINT employee_department_pkey PRIMARY KEY (emp_dept_id),
    CONSTRAINT employee_department_dept_id_fkey FOREIGN KEY (dept_id) REFERENCES master.department (dept_id) ON DELETE CASCADE,
    CONSTRAINT employee_department_emp_id_fkey FOREIGN KEY (emp_id) REFERENCES employee.employee_details (emp_id) ON DELETE CASCADE
);
2025-11-04 11:39:20.893 +05:30  INF  Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE notification.notifications (
    notification_id integer GENERATED BY DEFAULT AS IDENTITY,
    emp_id integer,
    notification_type character varying(255),
    source_entity_id integer,
    message text,
    timestamp timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    is_read boolean DEFAULT FALSE,
    CONSTRAINT notifications_pkey PRIMARY KEY (notification_id),
    CONSTRAINT notifications_emp_id_fkey FOREIGN KEY (emp_id) REFERENCES employee.employee_details (emp_id)
);
2025-11-04 11:39:20.927 +05:30  INF  Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE project.project (
    project_id integer GENERATED BY DEFAULT AS IDENTITY,
    project_code character varying(50),
    project_name character varying(200) NOT NULL,
    project_description text,
    project_type_id integer NOT NULL,
    project_sector_id integer,
    project_status character varying(50) NOT NULL,
    project_start_date date NOT NULL,
    project_end_date date,
    project_total_budget numeric(15,2) NOT NULL,
    project_actual_cost numeric(15,2) DEFAULT (0.00),
    client_name character varying(200),
    project_priority character varying(20),
    is_active boolean DEFAULT TRUE,
    created_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    updated_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    created_by integer,
    updated_by integer,
    project_location character varying(50),
    CONSTRAINT project_pkey PRIMARY KEY (project_id),
    CONSTRAINT project_project_sector_id_fkey FOREIGN KEY (project_sector_id) REFERENCES master.project_sector (project_sector_id),
    CONSTRAINT project_project_type_id_fkey FOREIGN KEY (project_type_id) REFERENCES master.project_types (project_type_id)
);
2025-11-04 11:39:20.964 +05:30  INF  Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE report.attachment (
    attachment_id integer GENERATED BY DEFAULT AS IDENTITY,
    report_id integer,
    file_name character varying NOT NULL,
    file_path text NOT NULL,
    uploaded_at timestamp without time zone DEFAULT (CURRENT_TIMESTAMP),
    CONSTRAINT attachment_pkey PRIMARY KEY (attachment_id),
    CONSTRAINT attachment_report_id_fkey FOREIGN KEY (report_id) REFERENCES report.reports (report_id) ON DELETE CASCADE
);
2025-11-04 11:39:20.980 +05:30  INF  Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE master.department_role_mapping (
    id integer GENERATED BY DEFAULT AS IDENTITY,
    dept_id integer NOT NULL,
    role_id integer NOT NULL,
    CONSTRAINT department_role_mapping_pkey PRIMARY KEY (id),
    CONSTRAINT department_role_mapping_dept_id_fkey FOREIGN KEY (dept_id) REFERENCES master.department (dept_id) ON DELETE CASCADE,
    CONSTRAINT department_role_mapping_role_id_fkey FOREIGN KEY (role_id) REFERENCES master.role (role_id) ON DELETE CASCADE
);
2025-11-04 11:39:20.997 +05:30  INF  Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE employee.employee_role (
    emp_role_id integer GENERATED BY DEFAULT AS IDENTITY,
    emp_id integer NOT NULL,
    role_id integer NOT NULL,
    assigned_date date DEFAULT (CURRENT_DATE),
    end_date date,
    created_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    updated_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    created_by integer,
    updated_by integer,
    CONSTRAINT employee_role_pkey PRIMARY KEY (emp_role_id),
    CONSTRAINT employee_role_emp_id_fkey FOREIGN KEY (emp_id) REFERENCES employee.employee_details (emp_id) ON DELETE CASCADE,
    CONSTRAINT employee_role_role_id_fkey FOREIGN KEY (role_id) REFERENCES master.role (role_id) ON DELETE CASCADE
);
2025-11-04 11:39:21.051 +05:30  INF  Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE vendor.department (
    vendor_dept_id integer GENERATED BY DEFAULT AS IDENTITY,
    vendor_id integer,
    dept_id integer,
    CONSTRAINT department_pkey PRIMARY KEY (vendor_dept_id),
    CONSTRAINT fk_vendor FOREIGN KEY (vendor_id) REFERENCES vendor.vendor (vendor_id),
    CONSTRAINT fk_vendor_dept FOREIGN KEY (dept_id) REFERENCES master.department (dept_id)
);
2025-11-04 11:39:21.067 +05:30  INF  Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE vendor.material (
    materialid integer NOT NULL,
    vendor_id integer,
    material text,
    unit text,
    currentprice numeric,
    price numeric,
    createdat timestamp without time zone,
    updatedat timestamp without time zone,
    createdby text,
    updatedby text,
    materialcategoryid integer,
    CONSTRAINT material_pkey PRIMARY KEY (materialid),
    CONSTRAINT material_materialcategoryid_fkey FOREIGN KEY (materialcategoryid) REFERENCES vendor.materialcategory (materialcategoryid),
    CONSTRAINT material_vendor_id_fkey FOREIGN KEY (vendor_id) REFERENCES vendor.vendor (vendor_id)
);
2025-11-04 11:39:21.097 +05:30  INF  Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE vendor.vendorrole (
    vendor_role_id integer GENERATED BY DEFAULT AS IDENTITY,
    vendor_id integer,
    role_id integer,
    CONSTRAINT vendorrole_pkey PRIMARY KEY (vendor_role_id),
    CONSTRAINT vendorrole_role_id_fkey FOREIGN KEY (role_id) REFERENCES master.role (role_id),
    CONSTRAINT vendorrole_vendor_id_fkey FOREIGN KEY (vendor_id) REFERENCES vendor.vendor (vendor_id)
);
2025-11-04 11:39:21.129 +05:30  INF  Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE board.boardlabel (
    labelid integer GENERATED BY DEFAULT AS IDENTITY,
    name character varying(100) NOT NULL,
    description text,
    board_id integer,
    position integer,
    wiplimit integer,
    colorcode character varying(20),
    isexpand boolean DEFAULT FALSE,
    is_active boolean DEFAULT TRUE,
    created_date timestamp without time zone DEFAULT (CURRENT_TIMESTAMP),
    created_by integer,
    last_updated_date timestamp without time zone,
    updated_by integer,
    code character varying(50),
    is_default boolean DEFAULT FALSE,
    is_move_state boolean DEFAULT FALSE,
    CONSTRAINT boardlabel_pkey PRIMARY KEY (labelid),
    CONSTRAINT fk_boardlabel_board FOREIGN KEY (board_id) REFERENCES board.board (board_id),
    CONSTRAINT fk_boardlabel_created_by FOREIGN KEY (created_by) REFERENCES employee.employee_details (emp_id),
    CONSTRAINT fk_boardlabel_updated_by FOREIGN KEY (updated_by) REFERENCES employee.employee_details (emp_id)
);
2025-11-04 11:39:21.179 +05:30  INF  Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE project.boq (
    boq_id integer GENERATED BY DEFAULT AS IDENTITY,
    boq_name character varying(255),
    boq_code text,
    project_id integer,
    created_by integer,
    vendor_id integer,
    CONSTRAINT boq_pkey PRIMARY KEY (boq_id),
    CONSTRAINT fk_boq_emp FOREIGN KEY (created_by) REFERENCES employee.employee_details (emp_id),
    CONSTRAINT fk_project_boq FOREIGN KEY (project_id) REFERENCES project.project (project_id),
    CONSTRAINT fk_vendor FOREIGN KEY (vendor_id) REFERENCES vendor.vendor (vendor_id) ON DELETE SET NULL
);
2025-11-04 11:39:21.194 +05:30  INF  Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE project.project_budget_details (
    project_budget_id integer GENERATED BY DEFAULT AS IDENTITY,
    project_id integer NOT NULL,
    project_expense_category character varying(100) NOT NULL,
    estimated_cost numeric(12,2) NOT NULL,
    approved_budget numeric(12,2),
    CONSTRAINT pk_project_budget_id PRIMARY KEY (project_budget_id),
    CONSTRAINT fk_project FOREIGN KEY (project_id) REFERENCES project.project (project_id) ON DELETE CASCADE
);
2025-11-04 11:39:21.218 +05:30  INF  Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE project.project_details (
    project_detail_id integer GENERATED BY DEFAULT AS IDENTITY,
    project_id integer NOT NULL,
    project_location text NOT NULL,
    plot_number character varying(100),
    site_address text,
    latitude numeric(10,8),
    longitude numeric(11,8),
    land_area numeric(15,2),
    land_area_unit character varying(20) DEFAULT ('sqft'::character varying),
    zoning_type character varying(100),
    created_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    updated_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    created_by integer,
    updated_by integer,
    CONSTRAINT project_details_pkey PRIMARY KEY (project_detail_id),
    CONSTRAINT project_details_project_id_fkey FOREIGN KEY (project_id) REFERENCES project.project (project_id) ON DELETE CASCADE
);
2025-11-04 11:39:21.252 +05:30  INF  Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE project.project_milestone (
    milestone_id integer GENERATED BY DEFAULT AS IDENTITY,
    project_id integer NOT NULL,
    milestone_name character varying(200) NOT NULL,
    milestone_description text,
    milestone_start_date date NOT NULL,
    milestone_end_date date NOT NULL,
    milestone_status character varying(50) NOT NULL,
    milestone_budget numeric(15,2),
    actual_cost numeric(15,2) DEFAULT (0.00),
    completion_percentage numeric(5,2) DEFAULT (0.00),
    created_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    updated_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    created_by integer,
    updated_by integer,
    CONSTRAINT project_milestone_pkey PRIMARY KEY (milestone_id),
    CONSTRAINT project_milestone_project_id_fkey FOREIGN KEY (project_id) REFERENCES project.project (project_id) ON DELETE CASCADE
);
2025-11-04 11:39:21.410 +05:30  ERR  Failed executing DbCommand (157ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE project.project_permission_finance_approval (
    permission_finance_approval_id integer NOT NULL DEFAULT (nextval('project.project_permission_finance_ap_permission_finance_approval_i_seq'::regclass)),
    project_id integer,
    emp_id integer,
    amount double precision NOT NULL,
    CONSTRAINT project_permission_finance_approval_pkey PRIMARY KEY (permission_finance_approval_id),
    CONSTRAINT project_permission_finance_approval_emp_id_fkey FOREIGN KEY (emp_id) REFERENCES employee.employee_details (emp_id),
    CONSTRAINT project_permission_finance_approval_project_id_fkey FOREIGN KEY (project_id) REFERENCES project.project (project_id)
);
2025-11-04 11:40:07.836 +05:30  INF  Executed DbCommand (542ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE buildflow_live_db WITH (FORCE);
2025-11-04 11:40:21.202 +05:30  INF  Executed DbCommand (880ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE buildflow_live_db;
2025-11-04 11:40:21.831 +05:30  INF  Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-11-04 11:40:22.041 +05:30  INF  Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-11-04 11:40:22.052 +05:30  INF  Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-11-04 11:40:22.059 +05:30  INF  Applying migration '20251104060520_InitialCreate'.
2025-11-04 11:40:22.202 +05:30  INF  Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM pg_namespace WHERE nspname = 'report') THEN
        CREATE SCHEMA report;
    END IF;
END $EF$;
2025-11-04 11:40:22.210 +05:30  INF  Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM pg_namespace WHERE nspname = 'ticket') THEN
        CREATE SCHEMA ticket;
    END IF;
END $EF$;
2025-11-04 11:40:22.217 +05:30  INF  Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM pg_namespace WHERE nspname = 'board') THEN
        CREATE SCHEMA board;
    END IF;
END $EF$;
2025-11-04 11:40:22.226 +05:30  INF  Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM pg_namespace WHERE nspname = 'project') THEN
        CREATE SCHEMA project;
    END IF;
END $EF$;
2025-11-04 11:40:22.235 +05:30  INF  Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM pg_namespace WHERE nspname = 'master') THEN
        CREATE SCHEMA master;
    END IF;
END $EF$;
2025-11-04 11:40:22.270 +05:30  INF  Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM pg_namespace WHERE nspname = 'vendor') THEN
        CREATE SCHEMA vendor;
    END IF;
END $EF$;
2025-11-04 11:40:22.277 +05:30  INF  Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM pg_namespace WHERE nspname = 'employee') THEN
        CREATE SCHEMA employee;
    END IF;
END $EF$;
2025-11-04 11:40:22.284 +05:30  INF  Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM pg_namespace WHERE nspname = 'notification') THEN
        CREATE SCHEMA notification;
    END IF;
END $EF$;
2025-11-04 11:40:22.291 +05:30  INF  Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM pg_namespace WHERE nspname = 'subcontractor') THEN
        CREATE SCHEMA subcontractor;
    END IF;
END $EF$;
2025-11-04 11:40:22.314 +05:30  INF  Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE master.department (
    dept_id integer GENERATED BY DEFAULT AS IDENTITY,
    dept_name character varying(100) NOT NULL,
    dept_description text,
    dept_code character varying(20),
    parent_dept_id integer,
    created_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    updated_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    created_by integer,
    updated_by integer,
    CONSTRAINT department_pkey PRIMARY KEY (dept_id),
    CONSTRAINT department_parent_dept_id_fkey FOREIGN KEY (parent_dept_id) REFERENCES master.department (dept_id)
);
2025-11-04 11:40:22.371 +05:30  INF  Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE employee.employee_details (
    emp_id integer GENERATED BY DEFAULT AS IDENTITY,
    employee_code character varying(50),
    first_name character varying(100) NOT NULL,
    middle_name character varying(100),
    last_name character varying(100),
    email character varying(150) NOT NULL,
    password character varying(255),
    phone character varying(20) NOT NULL,
    alternative_phone character varying(20),
    date_of_birth date,
    hire_date date,
    termination_date date,
    is_active boolean DEFAULT TRUE,
    address text,
    city character varying(100),
    state character varying(100),
    country character varying(100),
    postal_code character varying(20),
    image_url character varying(255),
    created_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    updated_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    created_by integer,
    updated_by integer,
    is_allocated boolean DEFAULT FALSE,
    gender character varying,
    CONSTRAINT employee_details_pkey PRIMARY KEY (emp_id)
);
2025-11-04 11:40:22.383 +05:30  INF  Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE vendor.materialcategory (
    materialcategoryid integer NOT NULL,
    categoryname character varying,
    CONSTRAINT materialcategory_pkey PRIMARY KEY (materialcategoryid)
);
2025-11-04 11:40:22.426 +05:30  INF  Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE master.project_budget (
    project_budget_id integer GENERATED BY DEFAULT AS IDENTITY,
    project_expense_category character varying(100) NOT NULL,
    CONSTRAINT project_budget_pkey PRIMARY KEY (project_budget_id)
);
2025-11-04 11:40:22.439 +05:30  INF  Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE master.project_sector (
    project_sector_id integer GENERATED BY DEFAULT AS IDENTITY,
    project_sector_name character varying(100) NOT NULL,
    project_sector_description text,
    sector_code character varying(20),
    created_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    updated_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    created_by integer,
    updated_by integer,
    CONSTRAINT project_sector_pkey PRIMARY KEY (project_sector_id)
);
2025-11-04 11:40:22.452 +05:30  INF  Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE master.project_types (
    project_type_id integer GENERATED BY DEFAULT AS IDENTITY,
    project_type_name character varying(100) NOT NULL,
    project_type_description text,
    type_code character varying(20),
    created_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    updated_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    created_by integer,
    updated_by integer,
    CONSTRAINT project_types_pkey PRIMARY KEY (project_type_id)
);
2025-11-04 11:40:22.495 +05:30  INF  Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE employee.refreshtoken (
    id integer GENERATED BY DEFAULT AS IDENTITY,
    token text NOT NULL,
    email text NOT NULL,
    expirydate timestamp without time zone NOT NULL,
    isrevoked boolean DEFAULT FALSE,
    CONSTRAINT refreshtoken_pkey PRIMARY KEY (id)
);
2025-11-04 11:40:22.508 +05:30  INF  Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE report.reports (
    report_id integer GENERATED BY DEFAULT AS IDENTITY,
    report_code character varying,
    report_type character varying NOT NULL,
    project_id character varying NOT NULL,
    report_date timestamp without time zone NOT NULL,
    reported_by character varying NOT NULL,
    report_data jsonb NOT NULL,
    created_at timestamp without time zone DEFAULT (CURRENT_TIMESTAMP),
    updated_at timestamp without time zone DEFAULT (CURRENT_TIMESTAMP),
    CONSTRAINT reports_pkey PRIMARY KEY (report_id)
);
2025-11-04 11:40:22.523 +05:30  INF  Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE master.role (
    role_id integer GENERATED BY DEFAULT AS IDENTITY,
    role_name character varying(100) NOT NULL,
    role_description text,
    is_system_role boolean DEFAULT FALSE,
    created_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    updated_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    created_by integer,
    updated_by integer,
    rolecode character varying(50),
    CONSTRAINT role_pkey PRIMARY KEY (role_id)
);
2025-11-04 11:40:22.539 +05:30  INF  Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE subcontractor.subcontractor (
    subcontractor_id integer GENERATED BY DEFAULT AS IDENTITY,
    subcontractor_code character varying(50),
    subcontractor_name character varying(150) NOT NULL,
    email character varying(150) NOT NULL,
    phone character varying(20) NOT NULL,
    alternative_phone character varying(20),
    website character varying(255),
    street text,
    city character varying(100),
    state character varying(100),
    country character varying(100),
    postal_code character varying(20),
    tax_id character varying(50),
    insurance_details text,
    is_active boolean DEFAULT TRUE,
    created_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    updated_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    created_by integer,
    updated_by integer,
    CONSTRAINT subcontractor_pkey PRIMARY KEY (subcontractor_id)
);
2025-11-04 11:40:22.576 +05:30  INF  Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE v_board_id (
    board_id integer
);
2025-11-04 11:40:22.590 +05:30  INF  Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE vendor.vendor (
    vendor_id integer GENERATED BY DEFAULT AS IDENTITY,
    vendor_code character varying(50),
    vendor_name character varying(150) NOT NULL,
    organization_name character varying(200),
    mobile character varying(20) NOT NULL,
    alternative_mobile character varying(20),
    email character varying(150) NOT NULL,
    website character varying(255),
    street text,
    city character varying(100),
    state character varying(100),
    country character varying(100),
    postal_code character varying(20),
    tax_id character varying(50),
    payment_terms text,
    preferred_payment_method character varying(100),
    delivery_terms text,
    credit_limit numeric(15,2),
    is_active boolean DEFAULT TRUE,
    created_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    updated_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    created_by integer,
    updated_by integer,
    password character varying(255),
    CONSTRAINT vendor_pkey PRIMARY KEY (vendor_id)
);
2025-11-04 11:40:22.606 +05:30  INF  Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE board.board (
    board_id integer GENERATED BY DEFAULT AS IDENTITY,
    name character varying(255) NOT NULL,
    description text,
    created_by integer NOT NULL,
    updated_by integer,
    created_at timestamp without time zone DEFAULT (CURRENT_TIMESTAMP),
    updated_at timestamp without time zone,
    CONSTRAINT board_pkey PRIMARY KEY (board_id),
    CONSTRAINT fk_board_created_by FOREIGN KEY (created_by) REFERENCES employee.employee_details (emp_id),
    CONSTRAINT fk_board_updated_by FOREIGN KEY (updated_by) REFERENCES employee.employee_details (emp_id)
);
2025-11-04 11:40:22.645 +05:30  INF  Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE employee.employee_department (
    emp_dept_id integer GENERATED BY DEFAULT AS IDENTITY,
    emp_id integer NOT NULL,
    dept_id integer NOT NULL,
    assigned_date date DEFAULT (CURRENT_DATE),
    end_date date,
    is_primary boolean DEFAULT TRUE,
    created_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    updated_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    created_by integer,
    updated_by integer,
    CONSTRAINT employee_department_pkey PRIMARY KEY (emp_dept_id),
    CONSTRAINT employee_department_dept_id_fkey FOREIGN KEY (dept_id) REFERENCES master.department (dept_id) ON DELETE CASCADE,
    CONSTRAINT employee_department_emp_id_fkey FOREIGN KEY (emp_id) REFERENCES employee.employee_details (emp_id) ON DELETE CASCADE
);
2025-11-04 11:40:22.658 +05:30  INF  Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE notification.notifications (
    notification_id integer GENERATED BY DEFAULT AS IDENTITY,
    emp_id integer,
    notification_type character varying(255),
    source_entity_id integer,
    message text,
    timestamp timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    is_read boolean DEFAULT FALSE,
    CONSTRAINT notifications_pkey PRIMARY KEY (notification_id),
    CONSTRAINT notifications_emp_id_fkey FOREIGN KEY (emp_id) REFERENCES employee.employee_details (emp_id)
);
2025-11-04 11:40:22.674 +05:30  INF  Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE project.project (
    project_id integer GENERATED BY DEFAULT AS IDENTITY,
    project_code character varying(50),
    project_name character varying(200) NOT NULL,
    project_description text,
    project_type_id integer NOT NULL,
    project_sector_id integer,
    project_status character varying(50) NOT NULL,
    project_start_date date NOT NULL,
    project_end_date date,
    project_total_budget numeric(15,2) NOT NULL,
    project_actual_cost numeric(15,2) DEFAULT (0.00),
    client_name character varying(200),
    project_priority character varying(20),
    is_active boolean DEFAULT TRUE,
    created_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    updated_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    created_by integer,
    updated_by integer,
    project_location character varying(50),
    CONSTRAINT project_pkey PRIMARY KEY (project_id),
    CONSTRAINT project_project_sector_id_fkey FOREIGN KEY (project_sector_id) REFERENCES master.project_sector (project_sector_id),
    CONSTRAINT project_project_type_id_fkey FOREIGN KEY (project_type_id) REFERENCES master.project_types (project_type_id)
);
2025-11-04 11:40:22.687 +05:30  INF  Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE report.attachment (
    attachment_id integer GENERATED BY DEFAULT AS IDENTITY,
    report_id integer,
    file_name character varying NOT NULL,
    file_path text NOT NULL,
    uploaded_at timestamp without time zone DEFAULT (CURRENT_TIMESTAMP),
    CONSTRAINT attachment_pkey PRIMARY KEY (attachment_id),
    CONSTRAINT attachment_report_id_fkey FOREIGN KEY (report_id) REFERENCES report.reports (report_id) ON DELETE CASCADE
);
2025-11-04 11:40:22.719 +05:30  INF  Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE master.department_role_mapping (
    id integer GENERATED BY DEFAULT AS IDENTITY,
    dept_id integer NOT NULL,
    role_id integer NOT NULL,
    CONSTRAINT department_role_mapping_pkey PRIMARY KEY (id),
    CONSTRAINT department_role_mapping_dept_id_fkey FOREIGN KEY (dept_id) REFERENCES master.department (dept_id) ON DELETE CASCADE,
    CONSTRAINT department_role_mapping_role_id_fkey FOREIGN KEY (role_id) REFERENCES master.role (role_id) ON DELETE CASCADE
);
2025-11-04 11:40:22.734 +05:30  INF  Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE employee.employee_role (
    emp_role_id integer GENERATED BY DEFAULT AS IDENTITY,
    emp_id integer NOT NULL,
    role_id integer NOT NULL,
    assigned_date date DEFAULT (CURRENT_DATE),
    end_date date,
    created_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    updated_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    created_by integer,
    updated_by integer,
    CONSTRAINT employee_role_pkey PRIMARY KEY (emp_role_id),
    CONSTRAINT employee_role_emp_id_fkey FOREIGN KEY (emp_id) REFERENCES employee.employee_details (emp_id) ON DELETE CASCADE,
    CONSTRAINT employee_role_role_id_fkey FOREIGN KEY (role_id) REFERENCES master.role (role_id) ON DELETE CASCADE
);
2025-11-04 11:40:22.745 +05:30  INF  Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE vendor.department (
    vendor_dept_id integer GENERATED BY DEFAULT AS IDENTITY,
    vendor_id integer,
    dept_id integer,
    CONSTRAINT department_pkey PRIMARY KEY (vendor_dept_id),
    CONSTRAINT fk_vendor FOREIGN KEY (vendor_id) REFERENCES vendor.vendor (vendor_id),
    CONSTRAINT fk_vendor_dept FOREIGN KEY (dept_id) REFERENCES master.department (dept_id)
);
2025-11-04 11:40:22.758 +05:30  INF  Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE vendor.material (
    materialid integer NOT NULL,
    vendor_id integer,
    material text,
    unit text,
    currentprice numeric,
    price numeric,
    createdat timestamp without time zone,
    updatedat timestamp without time zone,
    createdby text,
    updatedby text,
    materialcategoryid integer,
    CONSTRAINT material_pkey PRIMARY KEY (materialid),
    CONSTRAINT material_materialcategoryid_fkey FOREIGN KEY (materialcategoryid) REFERENCES vendor.materialcategory (materialcategoryid),
    CONSTRAINT material_vendor_id_fkey FOREIGN KEY (vendor_id) REFERENCES vendor.vendor (vendor_id)
);
2025-11-04 11:40:22.771 +05:30  INF  Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE vendor.vendorrole (
    vendor_role_id integer GENERATED BY DEFAULT AS IDENTITY,
    vendor_id integer,
    role_id integer,
    CONSTRAINT vendorrole_pkey PRIMARY KEY (vendor_role_id),
    CONSTRAINT vendorrole_role_id_fkey FOREIGN KEY (role_id) REFERENCES master.role (role_id),
    CONSTRAINT vendorrole_vendor_id_fkey FOREIGN KEY (vendor_id) REFERENCES vendor.vendor (vendor_id)
);
2025-11-04 11:40:22.786 +05:30  INF  Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE board.boardlabel (
    labelid integer GENERATED BY DEFAULT AS IDENTITY,
    name character varying(100) NOT NULL,
    description text,
    board_id integer,
    position integer,
    wiplimit integer,
    colorcode character varying(20),
    isexpand boolean DEFAULT FALSE,
    is_active boolean DEFAULT TRUE,
    created_date timestamp without time zone DEFAULT (CURRENT_TIMESTAMP),
    created_by integer,
    last_updated_date timestamp without time zone,
    updated_by integer,
    code character varying(50),
    is_default boolean DEFAULT FALSE,
    is_move_state boolean DEFAULT FALSE,
    CONSTRAINT boardlabel_pkey PRIMARY KEY (labelid),
    CONSTRAINT fk_boardlabel_board FOREIGN KEY (board_id) REFERENCES board.board (board_id),
    CONSTRAINT fk_boardlabel_created_by FOREIGN KEY (created_by) REFERENCES employee.employee_details (emp_id),
    CONSTRAINT fk_boardlabel_updated_by FOREIGN KEY (updated_by) REFERENCES employee.employee_details (emp_id)
);
2025-11-04 11:40:22.801 +05:30  INF  Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE project.boq (
    boq_id integer GENERATED BY DEFAULT AS IDENTITY,
    boq_name character varying(255),
    boq_code text,
    project_id integer,
    created_by integer,
    vendor_id integer,
    CONSTRAINT boq_pkey PRIMARY KEY (boq_id),
    CONSTRAINT fk_boq_emp FOREIGN KEY (created_by) REFERENCES employee.employee_details (emp_id),
    CONSTRAINT fk_project_boq FOREIGN KEY (project_id) REFERENCES project.project (project_id),
    CONSTRAINT fk_vendor FOREIGN KEY (vendor_id) REFERENCES vendor.vendor (vendor_id) ON DELETE SET NULL
);
2025-11-04 11:40:22.821 +05:30  INF  Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE project.project_budget_details (
    project_budget_id integer GENERATED BY DEFAULT AS IDENTITY,
    project_id integer NOT NULL,
    project_expense_category character varying(100) NOT NULL,
    estimated_cost numeric(12,2) NOT NULL,
    approved_budget numeric(12,2),
    CONSTRAINT pk_project_budget_id PRIMARY KEY (project_budget_id),
    CONSTRAINT fk_project FOREIGN KEY (project_id) REFERENCES project.project (project_id) ON DELETE CASCADE
);
2025-11-04 11:40:22.867 +05:30  INF  Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE project.project_details (
    project_detail_id integer GENERATED BY DEFAULT AS IDENTITY,
    project_id integer NOT NULL,
    project_location text NOT NULL,
    plot_number character varying(100),
    site_address text,
    latitude numeric(10,8),
    longitude numeric(11,8),
    land_area numeric(15,2),
    land_area_unit character varying(20) DEFAULT ('sqft'::character varying),
    zoning_type character varying(100),
    created_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    updated_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    created_by integer,
    updated_by integer,
    CONSTRAINT project_details_pkey PRIMARY KEY (project_detail_id),
    CONSTRAINT project_details_project_id_fkey FOREIGN KEY (project_id) REFERENCES project.project (project_id) ON DELETE CASCADE
);
2025-11-04 11:40:22.890 +05:30  INF  Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE project.project_milestone (
    milestone_id integer GENERATED BY DEFAULT AS IDENTITY,
    project_id integer NOT NULL,
    milestone_name character varying(200) NOT NULL,
    milestone_description text,
    milestone_start_date date NOT NULL,
    milestone_end_date date NOT NULL,
    milestone_status character varying(50) NOT NULL,
    milestone_budget numeric(15,2),
    actual_cost numeric(15,2) DEFAULT (0.00),
    completion_percentage numeric(5,2) DEFAULT (0.00),
    created_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    updated_at timestamp with time zone DEFAULT (CURRENT_TIMESTAMP),
    created_by integer,
    updated_by integer,
    CONSTRAINT project_milestone_pkey PRIMARY KEY (milestone_id),
    CONSTRAINT project_milestone_project_id_fkey FOREIGN KEY (project_id) REFERENCES project.project (project_id) ON DELETE CASCADE
);
2025-11-04 11:40:23.006 +05:30  ERR  Failed executing DbCommand (115ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE project.project_permission_finance_approval (
    permission_finance_approval_id integer NOT NULL DEFAULT (nextval('project.project_permission_finance_ap_permission_finance_approval_i_seq'::regclass)),
    project_id integer,
    emp_id integer,
    amount double precision NOT NULL,
    CONSTRAINT project_permission_finance_approval_pkey PRIMARY KEY (permission_finance_approval_id),
    CONSTRAINT project_permission_finance_approval_emp_id_fkey FOREIGN KEY (emp_id) REFERENCES employee.employee_details (emp_id),
    CONSTRAINT project_permission_finance_approval_project_id_fkey FOREIGN KEY (project_id) REFERENCES project.project (project_id)
);
